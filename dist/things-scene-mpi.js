!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=10)}([function(t,e){t.exports=scene},function(t,e,i){var s=i(11),n=i(12);t.exports=function(t,e,i){var o=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var r=0;r<16;++r)e[o+r]=a[r];return e||n(a)}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNBODBENUNFMTg0NDExRThBMDc0QUZGM0Y1MTQwNzhDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ4Rjc3QzdBMTg0NDExRThBMDc0QUZGM0Y1MTQwNzhDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0E4MEQ1Q0MxODQ0MTFFOEEwNzRBRkYzRjUxNDA3OEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0E4MEQ1Q0QxODQ0MTFFOEEwNzRBRkYzRjUxNDA3OEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7MovTsAAAC90lEQVR42sxUS0gbURR9M5lk8lE7mSLGkITWlMZKDMGUxv5owcZFF7rN0kXdJlBwrytBXWRjF3ZjyCYbUUGhElBphUaIH6jGTxEiNVEi+RnzM5Ok902bkBhLKbjohUve5L173r3n3PuIUqmEbtNIdMtWAczlcrxHo1H+2+12CywWizQSiciamprsIpHo/cnJCdPT0yN1uVwUPnN2doYymQzvZaOu3yCRSFAgELh7eHj4OBaL6TY2NjyNjY00RVGCnZ0dZTwef/Md7OjoyNfc3Hx+Pb4CSNM0/7uysvJwcHDwLQQw+Nvj8WjFYnEeuC6srq7e39zcZMHNTqfz0dTU1Kfe3l5/dYZEWRSv14vkcrnCbDYPJBIJcflAR0dH9PT0VFIoFAi1Wp3e3d1ly3tSqfQK4pzt7e1BoVBYyyFkgRwOx7NqMGx+v5+F0sUXFxd0NRi2dDotGhsbe1kGqwE0Go24XPUfxCN+e50tLy+roEqiDnBycvLFwcEB869tEgqFGiYmJl7Xcdjd3f0umUxKBAJBCUqh/tbwBEFgDrlisUgAXVmfz/exBhC4kwBfilQqRZtMph8kSXLlwGrD56GFEMdxJIBooDs4vV4fYhgmUwOIeQBFbfv7+3Josw+tra1hvIcBQeEKEDYQCEFmjEqlsiuVyhT0rQOE4Wo4hMBSV1dXGK9nZmb0MpkMYYfp4Cchm82iYDDI/7e0tIRmZ2c7cRhUEwawQp0oUCqy2WxevB4dHX2ytramxdnt7e2hy8tLfh9E488C8L2RkZGneD00NPQVuK8QLhgeHuYX0GsI0o8DF8KFhYW2xcXFB3CzUKvVpjUazRWMJAmg7Pz8vGl6etpyfHzcAKDrfX196yAigvGsVfn8/NdYAofU9vb2c7vd/gr2SJ1Ol2BZNoezhYeDhv07+Nz4+Phng8HwBTyPvxUKxc2AW1tbCBQmW1paFPDidM7NzbWB+vz1MGLJ/v7+gNVq/QZlh/L5fBHaDd0I+P8/sLdlPwUYABIWfIdJQ71UAAAAAElFTkSuQmCC"},function(t,e,i){t.exports=i.p+"assets/boot-button.99c433e8.png"},function(t,e){t.exports="data:image/png;base64,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"},function(t,e,i){t.exports=i.p+"assets/indicator.ca3e32c2.png"},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNBODBENUNFMTg0NDExRThBMDc0QUZGM0Y1MTQwNzhDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ4Rjc3QzdBMTg0NDExRThBMDc0QUZGM0Y1MTQwNzhDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0E4MEQ1Q0MxODQ0MTFFOEEwNzRBRkYzRjUxNDA3OEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0E4MEQ1Q0QxODQ0MTFFOEEwNzRBRkYzRjUxNDA3OEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7MovTsAAAC90lEQVR42sxUS0gbURR9M5lk8lE7mSLGkITWlMZKDMGUxv5owcZFF7rN0kXdJlBwrytBXWRjF3ZjyCYbUUGhElBphUaIH6jGTxEiNVEi+RnzM5Ok902bkBhLKbjohUve5L173r3n3PuIUqmEbtNIdMtWAczlcrxHo1H+2+12CywWizQSiciamprsIpHo/cnJCdPT0yN1uVwUPnN2doYymQzvZaOu3yCRSFAgELh7eHj4OBaL6TY2NjyNjY00RVGCnZ0dZTwef/Md7OjoyNfc3Hx+Pb4CSNM0/7uysvJwcHDwLQQw+Nvj8WjFYnEeuC6srq7e39zcZMHNTqfz0dTU1Kfe3l5/dYZEWRSv14vkcrnCbDYPJBIJcflAR0dH9PT0VFIoFAi1Wp3e3d1ly3tSqfQK4pzt7e1BoVBYyyFkgRwOx7NqMGx+v5+F0sUXFxd0NRi2dDotGhsbe1kGqwE0Go24XPUfxCN+e50tLy+roEqiDnBycvLFwcEB869tEgqFGiYmJl7Xcdjd3f0umUxKBAJBCUqh/tbwBEFgDrlisUgAXVmfz/exBhC4kwBfilQqRZtMph8kSXLlwGrD56GFEMdxJIBooDs4vV4fYhgmUwOIeQBFbfv7+3Josw+tra1hvIcBQeEKEDYQCEFmjEqlsiuVyhT0rQOE4Wo4hMBSV1dXGK9nZmb0MpkMYYfp4Cchm82iYDDI/7e0tIRmZ2c7cRhUEwawQp0oUCqy2WxevB4dHX2ytramxdnt7e2hy8tLfh9E488C8L2RkZGneD00NPQVuK8QLhgeHuYX0GsI0o8DF8KFhYW2xcXFB3CzUKvVpjUazRWMJAmg7Pz8vGl6etpyfHzcAKDrfX196yAigvGsVfn8/NdYAofU9vb2c7vd/gr2SJ1Ol2BZNoezhYeDhv07+Nz4+Phng8HwBTyPvxUKxc2AW1tbCBQmW1paFPDidM7NzbWB+vz1MGLJ/v7+gNVq/QZlh/L5fBHaDd0I+P8/sLdlPwUYABIWfIdJQ71UAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNBODBENUNFMTg0NDExRThBMDc0QUZGM0Y1MTQwNzhDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ4Rjc3QzdBMTg0NDExRThBMDc0QUZGM0Y1MTQwNzhDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0E4MEQ1Q0MxODQ0MTFFOEEwNzRBRkYzRjUxNDA3OEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0E4MEQ1Q0QxODQ0MTFFOEEwNzRBRkYzRjUxNDA3OEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7MovTsAAAC90lEQVR42sxUS0gbURR9M5lk8lE7mSLGkITWlMZKDMGUxv5owcZFF7rN0kXdJlBwrytBXWRjF3ZjyCYbUUGhElBphUaIH6jGTxEiNVEi+RnzM5Ok902bkBhLKbjohUve5L173r3n3PuIUqmEbtNIdMtWAczlcrxHo1H+2+12CywWizQSiciamprsIpHo/cnJCdPT0yN1uVwUPnN2doYymQzvZaOu3yCRSFAgELh7eHj4OBaL6TY2NjyNjY00RVGCnZ0dZTwef/Md7OjoyNfc3Hx+Pb4CSNM0/7uysvJwcHDwLQQw+Nvj8WjFYnEeuC6srq7e39zcZMHNTqfz0dTU1Kfe3l5/dYZEWRSv14vkcrnCbDYPJBIJcflAR0dH9PT0VFIoFAi1Wp3e3d1ly3tSqfQK4pzt7e1BoVBYyyFkgRwOx7NqMGx+v5+F0sUXFxd0NRi2dDotGhsbe1kGqwE0Go24XPUfxCN+e50tLy+roEqiDnBycvLFwcEB869tEgqFGiYmJl7Xcdjd3f0umUxKBAJBCUqh/tbwBEFgDrlisUgAXVmfz/exBhC4kwBfilQqRZtMph8kSXLlwGrD56GFEMdxJIBooDs4vV4fYhgmUwOIeQBFbfv7+3Josw+tra1hvIcBQeEKEDYQCEFmjEqlsiuVyhT0rQOE4Wo4hMBSV1dXGK9nZmb0MpkMYYfp4Cchm82iYDDI/7e0tIRmZ2c7cRhUEwawQp0oUCqy2WxevB4dHX2ytramxdnt7e2hy8tLfh9E488C8L2RkZGneD00NPQVuK8QLhgeHuYX0GsI0o8DF8KFhYW2xcXFB3CzUKvVpjUazRWMJAmg7Pz8vGl6etpyfHzcAKDrfX196yAigvGsVfn8/NdYAofU9vb2c7vd/gr2SJ1Ol2BZNoezhYeDhv07+Nz4+Phng8HwBTyPvxUKxc2AW1tbCBQmW1paFPDidM7NzbWB+vz1MGLJ/v7+gNVq/QZlh/L5fBHaDd0I+P8/sLdlPwUYABIWfIdJQ71UAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNBODBENUNFMTg0NDExRThBMDc0QUZGM0Y1MTQwNzhDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ4Rjc3QzdBMTg0NDExRThBMDc0QUZGM0Y1MTQwNzhDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0E4MEQ1Q0MxODQ0MTFFOEEwNzRBRkYzRjUxNDA3OEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0E4MEQ1Q0QxODQ0MTFFOEEwNzRBRkYzRjUxNDA3OEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7MovTsAAAC90lEQVR42sxUS0gbURR9M5lk8lE7mSLGkITWlMZKDMGUxv5owcZFF7rN0kXdJlBwrytBXWRjF3ZjyCYbUUGhElBphUaIH6jGTxEiNVEi+RnzM5Ok902bkBhLKbjohUve5L173r3n3PuIUqmEbtNIdMtWAczlcrxHo1H+2+12CywWizQSiciamprsIpHo/cnJCdPT0yN1uVwUPnN2doYymQzvZaOu3yCRSFAgELh7eHj4OBaL6TY2NjyNjY00RVGCnZ0dZTwef/Md7OjoyNfc3Hx+Pb4CSNM0/7uysvJwcHDwLQQw+Nvj8WjFYnEeuC6srq7e39zcZMHNTqfz0dTU1Kfe3l5/dYZEWRSv14vkcrnCbDYPJBIJcflAR0dH9PT0VFIoFAi1Wp3e3d1ly3tSqfQK4pzt7e1BoVBYyyFkgRwOx7NqMGx+v5+F0sUXFxd0NRi2dDotGhsbe1kGqwE0Go24XPUfxCN+e50tLy+roEqiDnBycvLFwcEB869tEgqFGiYmJl7Xcdjd3f0umUxKBAJBCUqh/tbwBEFgDrlisUgAXVmfz/exBhC4kwBfilQqRZtMph8kSXLlwGrD56GFEMdxJIBooDs4vV4fYhgmUwOIeQBFbfv7+3Josw+tra1hvIcBQeEKEDYQCEFmjEqlsiuVyhT0rQOE4Wo4hMBSV1dXGK9nZmb0MpkMYYfp4Cchm82iYDDI/7e0tIRmZ2c7cRhUEwawQp0oUCqy2WxevB4dHX2ytramxdnt7e2hy8tLfh9E488C8L2RkZGneD00NPQVuK8QLhgeHuYX0GsI0o8DF8KFhYW2xcXFB3CzUKvVpjUazRWMJAmg7Pz8vGl6etpyfHzcAKDrfX196yAigvGsVfn8/NdYAofU9vb2c7vd/gr2SJ1Ol2BZNoezhYeDhv07+Nz4+Phng8HwBTyPvxUKxc2AW1tbCBQmW1paFPDidM7NzbWB+vz1MGLJ/v7+gNVq/QZlh/L5fBHaDd0I+P8/sLdlPwUYABIWfIdJQ71UAAAAAElFTkSuQmCC"},function(t,e,i){t.exports=i(13)},function(t,e){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var s=new Uint8Array(16);t.exports=function(){return i(s),s}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},function(t,e){for(var i=[],s=0;s<256;++s)i[s]=(s+256).toString(16).substr(1);t.exports=function(t,e){var s=e||0,n=i;return[n[t[s++]],n[t[s++]],n[t[s++]],n[t[s++]],"-",n[t[s++]],n[t[s++]],"-",n[t[s++]],n[t[s++]],"-",n[t[s++]],n[t[s++]],"-",n[t[s++]],n[t[s++]],n[t[s++]],n[t[s++]],n[t[s++]],n[t[s++]]].join("")}},function(t,e,i){"use strict";i.r(e);var s=i(0);
/*!
 * segment-display.js
 *
 * Copyright 2012, RÃ¼diger Appel
 * http://www.3quarks.com
 * Published under Creative Commons 3.0 License.
 *
 * Date: 2012-02-14
 * Version: 1.0.0
 *
 * Dokumentation: http://www.3quarks.com/de/Segmentanzeige
 * Documentation: http://www.3quarks.com/en/SegmentDisplay
 */function n(t,e){this.width=t,this.height=e,this.pattern="##:##:##",this.value="12:34:56",this.digitHeight=20,this.digitWidth=10,this.digitDistance=2.5,this.displayAngle=12,this.segmentWidth=2.5,this.segmentDistance=.2,this.segmentCount=n.SevenSegment,this.cornerType=n.RoundedCorner,this.colorOn="rgb(233, 93, 15)",this.colorOff="rgb(75, 30, 5)"}n.SevenSegment=7,n.FourteenSegment=14,n.SixteenSegment=16,n.SymmetricCorner=0,n.SquaredCorner=1,n.RoundedCorner=2,n.prototype.setValue=function(t){this.value=t},n.prototype.draw=function(t){var e=0,i=!0;if(this.pattern)for(var s=0;s<this.pattern.length;s++){var n=this.pattern.charAt(s).toLowerCase();if("#"==n)e+=this.digitWidth;else if("."==n||":"==n)e+=this.segmentWidth;else if(" "!=n)return;e+=i?0:this.digitDistance,i=!1}if(!(e<=0)){var o=-1*Math.max(-45,Math.min(45,this.displayAngle)),a=Math.tan(o*Math.PI/180),r=Math.min(this.width/(e+Math.abs(a*this.digitHeight)),this.height/this.digitHeight),h=(this.width-(e+a*this.digitHeight)*r)/2,l=(this.height-this.digitHeight*r)/2;t.save(),t.translate(h,l),t.scale(r,r),t.transform(1,0,a,1,0,0);var d=0,g=this.value?this.value.length:0;for(s=0;s<this.pattern.length;s++){var c=this.pattern.charAt(s),m=s<g?this.value.charAt(s).toLowerCase():" ";d+=this.drawDigit(t,d,c,m)}t.restore()}},n.prototype.drawDigit=function(t,e,i,s){switch(i){case"#":var o=Math.sqrt(this.segmentWidth*this.segmentWidth/2),a=Math.sqrt(this.segmentDistance*this.segmentDistance/2),r=a/2,h=(this.segmentWidth-a)*Math.sin(45*Math.PI/180),l=h/2,d=(this.digitHeight-3*this.segmentWidth)/2,g=(this.digitWidth-3*this.segmentWidth)/2,c=this.segmentWidth/2,m=this.digitWidth/2;if(16==this.segmentCount){var b=e,u=0;switch(t.fillStyle=this.getSegmentColor(s,null,"02356789abcdefgiopqrstz@%"),t.beginPath(),this.cornerType){case n.SymmetricCorner:t.moveTo(b+c+a,u+c),t.lineTo(b+this.segmentWidth+a,u);break;case n.SquaredCorner:t.moveTo(b+c+r,u+c-r),t.lineTo(b+this.segmentWidth,u);break;default:t.moveTo(b+this.segmentWidth-h,u+this.segmentWidth-h-a),t.quadraticCurveTo(b+this.segmentWidth-l,u,b+this.segmentWidth,u)}t.lineTo(b+m-a-c,u),t.lineTo(b+m-a,u+c),t.lineTo(b+m-a-c,u+this.segmentWidth),t.lineTo(b+this.segmentWidth+a,u+this.segmentWidth),t.fill();b=e,u=0;switch(t.fillStyle=this.getSegmentColor(s,null,"02356789abcdefgiopqrstz@"),t.beginPath(),t.moveTo(b+this.digitWidth-this.segmentWidth-a,u+this.segmentWidth),t.lineTo(b+m+a+c,u+this.segmentWidth),t.lineTo(b+m+a,u+c),t.lineTo(b+m+a+c,u),this.cornerType){case n.SymmetricCorner:t.lineTo(b+this.digitWidth-this.segmentWidth-a,u),t.lineTo(b+this.digitWidth-c-a,u+c);break;case n.SquaredCorner:t.lineTo(b+this.digitWidth-this.segmentWidth,u),t.lineTo(b+this.digitWidth-c-r,u+c-r);break;default:t.lineTo(b+this.digitWidth-this.segmentWidth,u),t.quadraticCurveTo(b+this.digitWidth-this.segmentWidth+l,u,b+this.digitWidth-this.segmentWidth+h,u+this.segmentWidth-h-a)}t.fill()}else{b=e,u=0;switch(t.fillStyle=this.getSegmentColor(s,"02356789acefp","02356789abcdefgiopqrstz@"),t.beginPath(),this.cornerType){case n.SymmetricCorner:t.moveTo(b+c+a,u+c),t.lineTo(b+this.segmentWidth+a,u),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u),t.lineTo(b+this.digitWidth-c-a,u+c);break;case n.SquaredCorner:t.moveTo(b+c+r,u+c-r),t.lineTo(b+this.segmentWidth,u),t.lineTo(b+this.digitWidth-this.segmentWidth,u),t.lineTo(b+this.digitWidth-c-r,u+c-r);break;default:t.moveTo(b+this.segmentWidth-h,u+this.segmentWidth-h-a),t.quadraticCurveTo(b+this.segmentWidth-l,u,b+this.segmentWidth,u),t.lineTo(b+this.digitWidth-this.segmentWidth,u),t.quadraticCurveTo(b+this.digitWidth-this.segmentWidth+l,u,b+this.digitWidth-this.segmentWidth+h,u+this.segmentWidth-h-a)}t.lineTo(b+this.digitWidth-this.segmentWidth-a,u+this.segmentWidth),t.lineTo(b+this.segmentWidth+a,u+this.segmentWidth),t.fill()}switch(b=e+this.digitWidth-this.segmentWidth,u=0,t.fillStyle=this.getSegmentColor(s,"01234789adhpy","01234789abdhjmnopqruwy"),t.beginPath(),this.cornerType){case n.SymmetricCorner:t.moveTo(b+c,u+c+a),t.lineTo(b+this.segmentWidth,u+this.segmentWidth+a);break;case n.SquaredCorner:t.moveTo(b+c+r,u+c+r),t.lineTo(b+this.segmentWidth,u+this.segmentWidth);break;default:t.moveTo(b+h+a,u+this.segmentWidth-h),t.quadraticCurveTo(b+this.segmentWidth,u+this.segmentWidth-l,b+this.segmentWidth,u+this.segmentWidth)}switch(t.lineTo(b+this.segmentWidth,u+d+this.segmentWidth-a),t.lineTo(b+c,u+d+this.segmentWidth+c-a),t.lineTo(b,u+d+this.segmentWidth-a),t.lineTo(b,u+this.segmentWidth+a),t.fill(),b=e+this.digitWidth-this.segmentWidth,u=d+this.segmentWidth,t.fillStyle=this.getSegmentColor(s,"013456789abdhnouy","01346789abdghjmnoqsuw@","%"),t.beginPath(),t.moveTo(b,u+this.segmentWidth+a),t.lineTo(b+c,u+c+a),t.lineTo(b+this.segmentWidth,u+this.segmentWidth+a),t.lineTo(b+this.segmentWidth,u+d+this.segmentWidth-a),this.cornerType){case n.SymmetricCorner:t.lineTo(b+c,u+d+this.segmentWidth+c-a),t.lineTo(b,u+d+this.segmentWidth-a);break;case n.SquaredCorner:t.lineTo(b+c+r,u+d+this.segmentWidth+c-r),t.lineTo(b,u+d+this.segmentWidth-a);break;default:t.quadraticCurveTo(b+this.segmentWidth,u+d+this.segmentWidth+l,b+h+a,u+d+this.segmentWidth+h),t.lineTo(b,u+d+this.segmentWidth-a)}if(t.fill(),16==this.segmentCount){switch(b=e,u=this.digitHeight-this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"0235689bcdegijloqsuz_=@"),t.beginPath(),t.moveTo(b+this.segmentWidth+a,u),t.lineTo(b+m-a-c,u),t.lineTo(b+m-a,u+c),t.lineTo(b+m-a-c,u+this.segmentWidth),this.cornerType){case n.SymmetricCorner:t.lineTo(b+this.segmentWidth+a,u+this.segmentWidth),t.lineTo(b+c+a,u+c);break;case n.SquaredCorner:t.lineTo(b+this.segmentWidth,u+this.segmentWidth),t.lineTo(b+c+r,u+c+r);break;default:t.lineTo(b+this.segmentWidth,u+this.segmentWidth),t.quadraticCurveTo(b+this.segmentWidth-l,u+this.segmentWidth,b+this.segmentWidth-h,u+h+a),t.lineTo(b+this.segmentWidth-h,u+h+a)}switch(t.fill(),b=e,u=this.digitHeight-this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"0235689bcdegijloqsuz_=@","%"),t.beginPath(),t.moveTo(b+m+a+c,u+this.segmentWidth),t.lineTo(b+m+a,u+c),t.lineTo(b+m+a+c,u),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u),this.cornerType){case n.SymmetricCorner:t.lineTo(b+this.digitWidth-c-a,u+c),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u+this.segmentWidth);break;case n.SquaredCorner:t.lineTo(b+this.digitWidth-c-r,u+c+r),t.lineTo(b+this.digitWidth-this.segmentWidth,u+this.segmentWidth);break;default:t.lineTo(b+this.digitWidth-this.segmentWidth+h,u+h+a),t.quadraticCurveTo(b+this.digitWidth-this.segmentWidth+l,u+this.segmentWidth,b+this.digitWidth-this.segmentWidth,u+this.segmentWidth)}t.fill()}else{switch(b=e,u=this.digitHeight-this.segmentWidth,t.fillStyle=this.getSegmentColor(s,"0235689bcdelotuy_","0235689bcdegijloqsuz_=@"),t.beginPath(),t.moveTo(b+this.segmentWidth+a,u),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u),this.cornerType){case n.SymmetricCorner:t.lineTo(b+this.digitWidth-c-a,u+c),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u+this.segmentWidth),t.lineTo(b+this.segmentWidth+a,u+this.segmentWidth),t.lineTo(b+c+a,u+c);break;case n.SquaredCorner:t.lineTo(b+this.digitWidth-c-r,u+c+r),t.lineTo(b+this.digitWidth-this.segmentWidth,u+this.segmentWidth),t.lineTo(b+this.segmentWidth,u+this.segmentWidth),t.lineTo(b+c+r,u+c+r);break;default:t.lineTo(b+this.digitWidth-this.segmentWidth+h,u+h+a),t.quadraticCurveTo(b+this.digitWidth-this.segmentWidth+l,u+this.segmentWidth,b+this.digitWidth-this.segmentWidth,u+this.segmentWidth),t.lineTo(b+this.segmentWidth,u+this.segmentWidth),t.quadraticCurveTo(b+this.segmentWidth-l,u+this.segmentWidth,b+this.segmentWidth-h,u+h+a),t.lineTo(b+this.segmentWidth-h,u+h+a)}t.fill()}switch(b=e,u=d+this.segmentWidth,t.fillStyle=this.getSegmentColor(s,"0268abcdefhlnoprtu","0268acefghjklmnopqruvw@"),t.beginPath(),t.moveTo(b,u+this.segmentWidth+a),t.lineTo(b+c,u+c+a),t.lineTo(b+this.segmentWidth,u+this.segmentWidth+a),t.lineTo(b+this.segmentWidth,u+d+this.segmentWidth-a),this.cornerType){case n.SymmetricCorner:t.lineTo(b+c,u+d+this.segmentWidth+c-a),t.lineTo(b,u+d+this.segmentWidth-a);break;case n.SquaredCorner:t.lineTo(b+c-r,u+d+this.segmentWidth+c-a+r),t.lineTo(b,u+d+this.segmentWidth);break;default:t.lineTo(b+this.segmentWidth-h-a,u+d+this.segmentWidth+h),t.quadraticCurveTo(b,u+d+this.segmentWidth+l,b,u+d+this.segmentWidth)}switch(t.fill(),b=e,u=0,t.fillStyle=this.getSegmentColor(s,"045689abcefhlpty","045689acefghklmnopqrsuvwy@","%"),t.beginPath(),t.moveTo(b+this.segmentWidth,u+this.segmentWidth+a),t.lineTo(b+this.segmentWidth,u+d+this.segmentWidth-a),t.lineTo(b+c,u+d+this.segmentWidth+c-a),t.lineTo(b,u+d+this.segmentWidth-a),this.cornerType){case n.SymmetricCorner:t.lineTo(b,u+this.segmentWidth+a),t.lineTo(b+c,u+c+a);break;case n.SquaredCorner:t.lineTo(b,u+this.segmentWidth),t.lineTo(b+c-r,u+c+r);break;default:t.lineTo(b,u+this.segmentWidth),t.quadraticCurveTo(b,u+this.segmentWidth-l,b+this.segmentWidth-h-a,u+this.segmentWidth-h),t.lineTo(b+this.segmentWidth-h-a,u+this.segmentWidth-h)}return t.fill(),7==this.segmentCount&&(b=e,u=(this.digitHeight-this.segmentWidth)/2,t.fillStyle=this.getSegmentColor(s,"2345689abdefhnoprty-="),t.beginPath(),t.moveTo(b+c+a,u+c),t.lineTo(b+this.segmentWidth+a,u),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u),t.lineTo(b+this.digitWidth-c-a,u+c),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u+this.segmentWidth),t.lineTo(b+this.segmentWidth+a,u+this.segmentWidth),t.fill()),7!=this.segmentCount&&(b=e,u=(this.digitHeight-this.segmentWidth)/2,t.fillStyle=this.getSegmentColor(s,null,"2345689aefhkprsy-+*=","%"),t.beginPath(),t.moveTo(b+c+a,u+c),t.lineTo(b+this.segmentWidth+a,u),t.lineTo(b+m-a-c,u),t.lineTo(b+m-a,u+c),t.lineTo(b+m-a-c,u+this.segmentWidth),t.lineTo(b+this.segmentWidth+a,u+this.segmentWidth),t.fill(),b=e,u=(this.digitHeight-this.segmentWidth)/2,t.fillStyle=this.getSegmentColor(s,null,"234689abefghprsy-+*=@","%"),t.beginPath(),t.moveTo(b+m+a,u+c),t.lineTo(b+m+a+c,u),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u),t.lineTo(b+this.digitWidth-c-a,u+c),t.lineTo(b+this.digitWidth-this.segmentWidth-a,u+this.segmentWidth),t.lineTo(b+m+a+c,u+this.segmentWidth),t.fill(),b=e+m-c,u=0,t.fillStyle=this.getSegmentColor(s,null,"bdit+*","%"),t.beginPath(),14==this.segmentCount?(t.moveTo(b,u+this.segmentWidth+this.segmentDistance),t.lineTo(b+this.segmentWidth,u+this.segmentWidth+this.segmentDistance)):(t.moveTo(b,u+this.segmentWidth+a),t.lineTo(b+c,u+c+a),t.lineTo(b+this.segmentWidth,u+this.segmentWidth+a)),t.lineTo(b+this.segmentWidth,u+d+this.segmentWidth-a),t.lineTo(b+c,u+d+this.segmentWidth+c-a),t.lineTo(b,u+d+this.segmentWidth-a),t.fill(),b=e+m-c,u=this.digitHeight,t.fillStyle=this.getSegmentColor(s,null,"bdity+*@","%"),t.beginPath(),14==this.segmentCount?(t.moveTo(b,u-this.segmentWidth-this.segmentDistance),t.lineTo(b+this.segmentWidth,u-this.segmentWidth-this.segmentDistance)):(t.moveTo(b,u-this.segmentWidth-a),t.lineTo(b+c,u-c-a),t.lineTo(b+this.segmentWidth,u-this.segmentWidth-a)),t.lineTo(b+this.segmentWidth,u-d-this.segmentWidth+a),t.lineTo(b+c,u-d-this.segmentWidth-c+a),t.lineTo(b,u-d-this.segmentWidth+a),t.fill(),b=e+this.segmentWidth,u=this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"mnx\\*"),t.beginPath(),t.moveTo(b+this.segmentDistance,u+this.segmentDistance),t.lineTo(b+this.segmentDistance+o,u+this.segmentDistance),t.lineTo(b+g-this.segmentDistance,u+d-this.segmentDistance-o),t.lineTo(b+g-this.segmentDistance,u+d-this.segmentDistance),t.lineTo(b+g-this.segmentDistance-o,u+d-this.segmentDistance),t.lineTo(b+this.segmentDistance,u+this.segmentDistance+o),t.fill(),b=e+g+2*this.segmentWidth,u=this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"0kmvxz/*","%"),t.beginPath(),t.moveTo(b+g-this.segmentDistance,u+this.segmentDistance),t.lineTo(b+g-this.segmentDistance,u+this.segmentDistance+o),t.lineTo(b+this.segmentDistance+o,u+d-this.segmentDistance),t.lineTo(b+this.segmentDistance,u+d-this.segmentDistance),t.lineTo(b+this.segmentDistance,u+d-this.segmentDistance-o),t.lineTo(b+g-this.segmentDistance-o,u+this.segmentDistance),t.fill(),b=e+g+2*this.segmentWidth,u=d+2*this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"5knqrwx\\*"),t.beginPath(),t.moveTo(b+this.segmentDistance,u+this.segmentDistance),t.lineTo(b+this.segmentDistance+o,u+this.segmentDistance),t.lineTo(b+g-this.segmentDistance,u+d-this.segmentDistance-o),t.lineTo(b+g-this.segmentDistance,u+d-this.segmentDistance),t.lineTo(b+g-this.segmentDistance-o,u+d-this.segmentDistance),t.lineTo(b+this.segmentDistance,u+this.segmentDistance+o),t.fill(),b=e+this.segmentWidth,u=d+2*this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"0vwxz/*","%"),t.beginPath(),t.moveTo(b+g-this.segmentDistance,u+this.segmentDistance),t.lineTo(b+g-this.segmentDistance,u+this.segmentDistance+o),t.lineTo(b+this.segmentDistance+o,u+d-this.segmentDistance),t.lineTo(b+this.segmentDistance,u+d-this.segmentDistance),t.lineTo(b+this.segmentDistance,u+d-this.segmentDistance-o),t.lineTo(b+g-this.segmentDistance-o,u+this.segmentDistance),t.fill()),this.digitDistance+this.digitWidth;case".":return t.fillStyle="#"==s||"."==s?this.colorOn:this.colorOff,this.drawPoint(t,e,this.digitHeight-this.segmentWidth,this.segmentWidth),this.digitDistance+this.segmentWidth;case":":t.fillStyle="#"==s||":"==s?this.colorOn:this.colorOff;u=(this.digitHeight-this.segmentWidth)/2-this.segmentWidth;return this.drawPoint(t,e,u,this.segmentWidth),this.drawPoint(t,e,u+2*this.segmentWidth,this.segmentWidth),this.digitDistance+this.segmentWidth;default:return this.digitDistance}},n.prototype.drawPoint=function(t,e,i,s){var n=e+s,o=i+s,a=s/4;t.beginPath(),t.moveTo(n-a,i),t.quadraticCurveTo(n,i,n,i+a),t.lineTo(n,o-a),t.quadraticCurveTo(n,o,n-a,o),t.lineTo(e+a,o),t.quadraticCurveTo(e,o,e,o-a),t.lineTo(e,i+a),t.quadraticCurveTo(e,i,e+a,i),t.fill()},n.prototype.getSegmentColor=function(t,e,i,s){if("#"==t)return this.colorOn;switch(this.segmentCount){case 7:return-1==e.indexOf(t)?this.colorOff:this.colorOn;case 14:return-1==i.indexOf(t)?this.colorOff:this.colorOn;case 16:return-1==(i+(void 0===s?"":s)).indexOf(t)?this.colorOff:this.colorOn;default:return this.colorOff}};var o=i(5),a=i.n(o);function r(...t){console.log(Date(),...t)}function h(t){"true"==t.state.boot_flag&&t.lit&&!t.readOnly&&t.currentTask!==t.tasks.END&&(r("onMouseDownBigButton"),t.gateway.passIndicatorsMessage(l(t,"IND_ON_RES",t.store,"ok")),t.lightOff())}var l=function(t,e,i,s,n,o){var a,{org_box_qty:r,org_ea_qty:h}=t.state;return a={action:e,id:t.model.id,biz_id:i?i.biz_id:void 0,biz_type:i.biz_type,action_type:i.action_type,ret_args:i.ret_args,biz_flag:s},i&&((i.org_relay||0==i.org_relay)&&(a.org_relay=parseInt(i.org_relay)),(i.org_box_qty||0==i.org_box_qty)&&(a.org_box_qty=parseInt(i.org_box_qty),a.res_box_qty=n>=0?n:parseInt(i.org_box_qty)),(i.org_ea_qty||0==i.org_ea_qty)&&(a.org_ea_qty=parseInt(i.org_ea_qty),a.res_ea_qty=o>=0?o:parseInt(i.org_ea_qty))),a};const d={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",label:"segments",name:"segments"},{type:"select",label:"button color",name:"buttonColor",property:{options:[{display:"YELLOW",value:"#ff0"},{display:"GREEN",value:"#0f0"},{display:"RED",value:"#f00"},{display:"BLUE",value:"#00f"}]}},{type:"select",label:"boot-flag",name:"boot_flag",property:{options:[{display:"TRUE",value:"true"},{display:"FALSE",value:"false"}]}}]},g=449,c=53,m=3;class b extends(Object(s.RectPath)(s.Shape)){constructor(...t){super(...t),this.lit=!1,this.ledLit=!1,this.store={},this.conf={seg_role:["B","P"],alignment:"R",btn_mode:"S",btn_intvl:5,bf_on_msg:"",bf_on_msg_t:10,bf_on_delay:10,cncl_delay:10,blink_if_full:!0,off_use_res:!1,led_bar_mode:"S",led_bar_intvl:5,led_bar_brtns:6},this.currentTask="ready"}static get image(){return b._image||(b._image=new Image,b._image.src=a.a),b._image}get colors(){return{R:"#f00",G:"#0f0",B:"#00f",C:"#0ff",M:"#f0f",Y:"#ff0",K:"#0000",W:"#fff"}}get btnModes(){return{BLINK:"B",ALWAYS:"S"}}get tasks(){return{PICK:"pick",STOCK:"stock",FULL:"full",END:"end",DISPLAY:"display",READY:"ready"}}get alignmentOptions(){return{LEFT:"L",RIGHT:"R"}}get segmentRoles(){return{RELAY_SEQ:{INITIAL:"R",KEY:"org_relay"},BOXES:{INITIAL:"B",KEY:"org_box_qty"},PCS:{INITIAL:"P",KEY:"org_ea_qty"}}}get getConf(){return this.conf}set setConf(t){this.conf=t}get gateway(){for(var t=this.parent;"Gateway"!==t.constructor.name;)t=t.parent;if("Window"!==t.constructor.name)return t}get ledRect(){return this.parent.findFirst("rect")||{}}dispose(){super.dispose()}setSegmentsState(t){var e=[];(this.store.seg_role?this.store.seg_role:this.getConf.seg_role).forEach(i=>{var s;t.forEach(t=>{i==t.role&&(t.value||t.value>=0)&&(s=t.value)}),e.push(s)});var i=e.join(",");this.setState("segments",i)}jobLightOn(t,e=!0){var i,s=i=>{i.lightOff(),setTimeout(()=>{i.lightOn(t,e)},1e3*i.getConf.bf_on_delay)};"string"==typeof this.getConf.bf_on_msg&&this.getConf.bf_on_msg.length>0?((i=this).displayMessage(i.getConf.bf_on_msg,"K",!1),setTimeout(()=>{s(i)},100*i.getConf.bf_on_msg_t)):this.getConf.bf_on_delay>0?s(this):this.lightOn(t,e)}lightOn(t,e=!0){var i=parseInt(6/this.getConf.seg_role.length);switch(this.getConf.alignment){case this.alignmentOptions.LEFT:{let e=[];Object.values(this.segmentRoles).forEach(i=>{if(t[i.KEY]||t[i.KEY]>=0){var s={role:i.INITIAL,value:t[i.KEY]};e.push(s)}}),this.setSegmentsState(e)}break;case this.alignmentOptions.RIGHT:default:{let e=[];Object.values(this.segmentRoles).forEach(s=>{if(t[s.KEY]||t[s.KEY]>=0){var n={role:s.INITIAL,value:("  "+t[s.KEY]).substr(-i)};e.push(n)}}),this.setSegmentsState(e)}}t.buttonColor&&this.setState("buttonColor",String(t.buttonColor)),this.lit=e}lightOff(){this.setState("segments",3==this.displays.length?",,":","),this.setState("buttonColor","#0000"),this.lit=!1}displayMessage(t,e="K",i=!0){var s=this.displays[0].pattern.length,n=s*this.displays.length,o=t||this.getConf.bf_on_msg;switch(this.conf.alignment){case this.alignmentOptions.LEFT:o=(o+"      ").substr(0,n);break;case this.alignmentOptions.RIGHT:default:o=("      "+o).substr(-n)}for(var a=[],r=1,h=0;r<=n;)r%s==0&&(a.push(o.substr(h,s)),h=r),r++;this.setState("segments",a.join(",")),this.setState("buttonColor",this.colors[e]),this.lit=i}rectButtonContains(t,e,i,s){var n=290*i,o=15*s,a=52*i,r=24*s,h=m;return t<Math.max(n+a,n)+h&&t>Math.min(n+a,n)-h&&e<Math.max(o+r,o)+h&&e>Math.min(o+r,o)-h}mfcButtonContains(t,e,i,s){var n=7*i,o=7*s,a=96*i,r=27*s,h=(t-a)/(2*n-.5),l=(e-r)/(2*o-.5);return h*h+l*l<.25?"M":(h=(t-(a=113*i))/(2*n-.5))*h+(l=(e-(r=16*s))/(2*o-.5))*l<.25?"F":(h=(t-(a=113*i))/(2*n-.5))*h+(l=(e-(r=38*s))/(2*o-.5))*l<.25?"C":void 0}onmousedown(t,e){var i,{left:s,top:n,width:o,height:a}=this.bounds,d=o/g,m=a/c,{x:b,y:u}=this.transcoordC2S(t.offsetX,t.offsetY);if(this.rectButtonContains(b-s,u-n,d,m))h(this);else switch(this.mfcButtonContains(b-s,u-n,d,m)){case"M":!function(t){if("true"==t.state.boot_flag&&t.lit&&!t.readOnly&&t.currentTask!==t.tasks.FULL&&t.currentTask!==t.tasks.END){r("onMouseDownButton","M");var e=!!t.store.org_box_qty&&t.store.org_box_qty,i=!!t.store.org_ea_qty&&t.store.org_ea_qty,s="modify";e=Math.ceil(e/2),i=Math.ceil(i/2),s=e==t.store.org_box_qty&&i==t.store.org_ea_qty?"ok":"modify",t.gateway.passIndicatorsMessage(l(t,"IND_ON_RES",t.store,s,e,i)),t.lightOff()}}(this);break;case"F":"true"==(i=this).state.boot_flag&&i.lit&&!i.readOnly&&i.currentTask!=i.tasks.STOCK&&i.currentTask!==i.tasks.FULL&&(r("onMouseDownButton","F"),i.gateway.passIndicatorsMessage(l(i,"IND_ON_RES",i.store,"full")),i.lightOff());break;case"C":!function(t){"true"==t.state.boot_flag&&t.lit&&!t.readOnly&&t.currentTask!=t.tasks.STOCK&&t.currentTask!==t.tasks.FULL&&t.currentTask!==t.tasks.END&&(r("onMouseDownButton","C"),t.displayMessage("CAnCEL"),setTimeout(()=>{t.gateway.passIndicatorsMessage(l(t,"IND_ON_RES",t.store,"cancel",0,0)),t.lightOff()},100*t.getConf.cncl_delay))}(this)}}get displays(){var{width:t,height:e}=this.bounds,i=t/g,s=e/c,{segments:o=new Array(this.getConf.seg_role.length).join(",")}=this.state;return o.split(",",3).map((t,e,o)=>{var a=new n(63*i,28*s);return a.pattern=2==o.length?"###":3==o.length?"##":"",a.displayAngle=8,a.digitHeight=20,a.digitWidth=11,a.digitDistance=6,a.segmentWidth=1.8,a.segmentDistance=.2,a.segmentCount=n.SevenSegment,a.cornerType=n.SymmetricCorner,a.colorOn=0==e?"#007dfe":1==e?"#fd0000":"#fee400",a.colorOff="#2c2c2c",a.setValue(t),a})}_drawRectButton(t,e,i,s){var n=52*e,o=24*i,a=Math.min(7*e,7*i),r=Math.floor(a/2),h=Math.floor(a/5);n<2*a&&(a=n/2),o<2*a&&(a=o/2),t.beginPath(),t.moveTo(a,0),t.arcTo(n,0,n,o,a),t.arcTo(n,o,0,o,a),t.arcTo(0,o,0,0,a),t.arcTo(0,0,n,0,a),t.globalAlpha=1,t.fillStyle=s,t.strokeStyle=s,t.lineWidth=r,t.fill(),t.stroke(),t.strokeStyle="black",t.globalAlpha=.3,t.stroke(),t.beginPath(),t.moveTo(h,o-a),t.arcTo(h,h,a,h,a-h),t.lineTo(n-a,h),t.strokeStyle="white",t.globalAlpha=.6,t.lineWidth=h,t.stroke(),t.beginPath(),t.moveTo(n-a,h),t.arcTo(n-h,h,n-h,a,a-h),t.arcTo(n-h,o-h,n-a,o-h,a-h),t.arcTo(h,o-h,h,o-a,a-h),t.strokeStyle="white",t.globalAlpha=.4,t.lineWidth=h,t.stroke(),t.globalAlpha=1}_drawMFCButton(t,e,i){t.textAlign="center",t.textBaseline="middle",t.font=`bold ${Math.min(10*e,10*i)}px Arial`,t.beginPath(),t.ellipse(96*e,27*i,7*e,7*i,0,0,2*Math.PI),t.fillStyle="white",t.fill(),t.fillStyle="#a8a8a8",t.fillText("M",96*e,27*i),t.beginPath(),t.ellipse(113*e,16*i,7*e,7*i,0,0,2*Math.PI),t.fillStyle="white",t.fill(),t.fillStyle="#a8a8a8",t.fillText("F",113*e,16*i),t.beginPath(),t.ellipse(113*e,38*i,7*e,7*i,0,0,2*Math.PI),t.fillStyle="white",t.fill(),t.fillStyle="#a8a8a8",t.fillText("C",113*e,38*i)}_draw(t){var{left:e,top:i,width:s,height:n}=this.bounds,o=this.state.buttonColor||"#0000",a=s/g,r=n/c;t.translate(e,i),t.save(),t.beginPath(),t.drawImage(b.image,0,0,s,n),this._drawMFCButton(t,a,r);var h=this.displays,l=3==h.length?1:0;t.translate((135-12*l)*a,12*r),h[0].draw(t),h.length>=2&&(t.translate((75-25*l)*a,0),h[1].draw(t)),h.length>=3&&(t.translate((75-25*l)*a,0),h[2].draw(t)),t.beginPath(),t.restore(),t.translate(290*a,15*r),this._drawRectButton(t,a,r,o),t.beginPath()}onchangeData(t,e){var i,s;super.onchangeData(t,e),i=this,s=t.data,i.lightOn(s),i.data.dataChanged=!1}get hasTextProperty(){return!1}get controls(){}get nature(){return d}onButton(){switch(this.currentTask){case this.tasks.END:break;case this.tasks.DISPLAY:return;default:h(this)}}}s.Component.register("indicator",b);var u=i(6),f=i.n(u),p=i(1),y=i.n(p),W=i(7),T=i.n(W),v=i(8),A=i.n(v),w=i(2),C=i.n(w),S=i(9),E=i.n(S);const M=[{icon:T.a,handler:function(t){r("onclickStart"),t.boot()}},{icon:A.a,handler:function(t){r("onclickStop"),t.off()}},{icon:C.a,handler:function(t){if(r("onclickStatus"),"false"==t.state.power_flag)return;var e=t.indicators[Math.floor(Math.random()*t.indicators.length)];t.publisher.data={properties:t.generateMessageProperties(),body:{action:"IND_STATUS_RPT",id:e.model.id,version:e.version,status:Math.random()>.5?"ok":"offline",rssi:Math.floor(100*Math.random()).toString(),battery:Math.floor(100*Math.random()).toString()}},r("sent IND_STATUS_RPT",t.publisher.data)}},{icon:E.a,handler:function(t){if(r("onclickError"),"false"==t.state.power_flag)return;let e=Math.random();t.publisher.data={properties:t.generateMessageProperties(),body:{action:"ERR_RPT",hw_gb:e>.5?"gw":"ind",id:e>.5?t.model.id:t.indicators[Math.floor(e*t.indicators.length*2)].model.id,message:["ERR001","ERR002","ERR003","ERR004","ERR005","ERR006"][Math.floor(6*Math.random())]}},r("sent ERR_RPT",t.publisher.data)}},{icon:C.a,handler:function(t){if(r("onclickTimesync"),"false"==t.state.power_flag)return;t.publisher.data={properties:t.generateMessageProperties(),body:{action:"TIMESYNC_REQ"}},r("sent TIMESYNC_REQ",t.publisher.data)}}];const N=10,D=35,I=15,R=24,_={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",name:"publisher",label:"publisher",placeholder:""},{type:"select",label:"power flag",name:"power_flag",property:{options:[{display:"true",value:"true"},{display:"false",value:"false"}]}},{type:"select",label:"boot flag",name:"boot_flag",property:{options:[{display:"true",value:"true"},{display:"false",value:"false"}]}}]};class B extends s.Container{static get image(){return B._image||(B._image=new Image,B._image.src=f.a),B._image}static get buttonImages(){return B._buttonImages||(B._buttonImages=[],M.forEach(t=>{let e=new Image;e.src=t.icon,B._buttonImages.push(e)})),B._buttonImages}dispose(){this.timerOff(),delete this.timeflow,delete this.ledBlinker,delete this.ledBarBlinker,super.dispose()}buttonContains(t,e){var i=I,s=I;return M.find((n,o)=>{let a=(t-(o*D+I/2))/(2*i-.5),r=(e-I)/(2*s-.5);return a*a+r*r<.25})}passIndicatorsMessage(t){this.state.power_flag&&this.state.boot_flag&&(this.publisher.data={properties:this.generateMessageProperties(),body:t},r("sent "+(t.action?t.action:"indicator message"),this.publisher.data))}generateMessageProperties(){return{id:y()(),time:Date.now(),dest_id:"mps_server",source_id:this.model.id,is_reply:!1}}generateReplyMessage(t,e,i,s){var n={properties:{id:t,time:Date.now(),dest_id:e,source_id:this.model.id,is_reply:!0},body:{action:i+"_ACK"}};switch(i){case"IND_ON_REQ":n.body={action:"IND_ON_REQ_ACK",biz_type:s.biz_type,action_type:s.action_type,ret_args:s.ret_args,read_only:s.read_only,ind_on:s.ind_on.map(t=>{let e={};return e.id=t.id,e.biz_id=t.biz_id,t.stock_taking_id&&(e.stock_taking_id=t.stock_taking_id),e})};break;case"LED_ON_REQ":case"LED_OFF_REQ":n.body={action:i+"_ACK",id:s.id}}return n}_draw(t){var{left:e,top:i,width:s,height:n}=this.bounds;t.beginPath(),t.rect(e,i,s,n),this.drawFill(t),this.drawStroke(t),t.drawImage(B.image,e+s-62-5,i+5,62,32),B.buttonImages.forEach((s,n)=>{t.beginPath(),M[n]===this._focusedButton&&(t.ellipse(N+e+n*D+R/2,N+i+R/2,I,I,0,0,2*Math.PI),t.fillStyle="lightgray",t.fill()),t.drawImage(s,N+e+n*D,N+i,R,R)})}get indicators(){var t=this.findAll("group");return 0==t.length?this.findAll("indicator"):t.map(function(t,e){return t.findFirst("indicator")})}get publisher(){return this.state.publisher?this.findById(this.state.publisher):this.findFirst("mqtt")}get timer(){return this.findFirst("seven-segment")}startBlinkingLed(){this.ledBlinker=setTimeout(()=>{this.indicators.forEach((t,e)=>{var i="true"==t.state.boot_flag&&t.lit,s=t.getConf.btn_mode===t.btnModes.BLINK,n=t.currentTask!==t.tasks.DISPLAY,o=t.currentTask==t.tasks.FULL;i&&(s&&n||t.getConf.blink_if_full&&o)&&("#0000"===t.getState("buttonColor")?t.setState("buttonColor",String(t.colors[t.store.color])||"#0000"):t.setState("buttonColor",String("#0000")))}),this.ledBlinker&&this.startBlinkingLed()},100*this.indicators[0].getConf.btn_intvl)}stopBlinkingLed(){clearTimeout(this.ledBlinker)}startBlinkingLedBar(){this.ledBarBlinker=setTimeout(()=>{this.indicators.forEach((t,e)=>{t.ledLit&&t.getConf.led_bar_mode===t.btnModes.BLINK&&("#0000"===t.ledRect.strokeStyle?t.ledRect.strokeStyle="#f00"+Math.round(15*t.getConf.led_bar_brtns/10).toString(16):t.ledRect.strokeStyle="#0000")}),this.ledBarBlinker&&this.startBlinkingLedBar()},100*this.indicators[0].getConf.led_bar_intvl)}stopBlinkingLedBar(){clearTimeout(this.ledBarBlinker)}boot(){if("true"!=this.state.boot_flag){var{indicators:t,publisher:e}=this;r("onclickStart"),this.indicators.forEach(t=>{var e=t.displays.length*t.displays[0].pattern.length;t.model.id?t.displayMessage(t.model.id):t.displayMessage(("0".repeat(e-1)+Math.floor(Math.random()*parseInt(1+"0".repeat(e)))).substr(-e))}),this.setState("power_flag","true"),e&&(e.data={properties:this.generateMessageProperties(),body:{action:"GW_INIT_REQ",id:this.model.id}}),r("sent GW_INIT_REQ",e.data)}}off(){"false"!=this.state.power_flag&&(this.timerOff(),this.stopBlinkingLed(),this.stopBlinkingLedBar(),this.setState("power_flag",String("false")),this.setState("boot_flag",String("false")),this.indicators.forEach(t=>{t.setState("boot_flag",String("false")),t.ledRect.strokeStyle="#0000",t.lightOff()}),r("turned off "+this.model.id))}setTimer(t){if(this.timer){var e=("0"+new Date(t).getHours()).substr(-2)+":"+("0"+new Date(t).getMinutes()).substr(-2)+":"+("0"+new Date(t).getSeconds()).substr(-2);this.timer.value=e}}timerOn(){}timerOff(){r(this.model.id,"timer off"),clearInterval(this.timeflow)}onchangeData(t,e){super.onchangeData(t,e),function(t,e){if("false"!=t.state.power_flag)if(e.properties.is_reply)r("server reply: ",e);else switch(r("received "+(e.body.action?e.body.action:"unknown action"),e),t.publisher.data=t.generateReplyMessage(e.properties.id,e.properties.source_id,e.body.action,e.body),r("sent reply: ",t.publisher.data),e.body.action){case"GW_INIT_RES":{if("true"==t.state.boot_flag)return void r("Already booted");t.version||(t.version=e.body.gw_version),t.setTimer(1e3*parseInt(e.body.svr_time)),t.timerOn(),t.startBlinkingLed(),t.startBlinkingLedBar(),t.publisher.data={properties:t.generateMessageProperties(),body:{action:"GW_INIT_RPT",id:t.model.id,version:t.version}},r("sent GW_INIT_RPT",t.publisher.data),t.setState("boot_flag",String("true"));let i=e&&e.body&&e.body.ind_conf,s=e&&e.body&&e.body.ind_id,n=0;t.indicators.forEach((o,a)=>{!o.model.id&&n<s.length&&!t.findById(s[n])&&(o.model.id=s[n],t.root.indexMap[o.model.id]=o,n++),o.setState("boot_flag",String("true")),o.version||(o.version=e.body.ind_version),Object.keys(i).forEach(t=>{o.conf.hasOwnProperty(t)&&(o.conf[t]=i[t])}),o.setState("segments",new Array(o.getConf.seg_role.length).join(",")),t.publisher.data={properties:t.generateMessageProperties(),body:{action:"IND_INIT_RPT",id:o.model.id,version:o.version}},r("sent IND_INIT_RPT",t.publisher.data),o.lightOff()})}break;case"IND_ON_REQ":{if("false"==t.state.boot_flag)return;let i=e&&e.body&&e.body.ind_on;i&&i.forEach(i=>{let s=t.findById(i.id);if(!s)return;if("false"==s.state.boot_flag)return;s.store=i,s.store.biz_type=e.body.biz_type,s.store.action_type=e.body.action_type,s.store.ret_args=e.body.ret_args,s.readOnly=e.body.read_only,Object.keys(s.conf).forEach(t=>{if(i.hasOwnProperty(t)){switch(t){case"seg_role":case"":return}s.conf[t]=i[t]}});let n=i.org_relay,o=i.org_box_qty,a=i.org_ea_qty,r=i.color;switch(e.body.action_type){case s.tasks.PICK:s.currentTask=s.tasks.PICK;break;case s.tasks.STOCK:s.currentTask=s.tasks.STOCK;break;case s.tasks.FULL:return s.currentTask=s.tasks.FULL,void s.displayMessage("FULL",r);case s.tasks.END:return s.currentTask=s.tasks.END,void s.displayMessage("END",r);case s.tasks.DISPLAY:s.currentTask=s.tasks.DISPLAY,r="K"}let h={};(n||n>=0)&&(h.org_relay=n),(o||o>=0)&&(h.org_box_qty=o),(a||a>=0)&&(h.org_ea_qty=a),r&&(h.buttonColor=s.colors[r]),(n||o||a||r)&&s.jobLightOn(h)})}break;case"IND_OFF_REQ":if("false"==t.state.boot_flag)return;t.indicators.forEach(i=>{if(i.currentTask==i.tasks.END&&!e.body.end_off_flag&&!e.body.force_flag)return;if(!i.getConf.off_use_res&&!i.lit)return;let s;e.body.ind_off&&(s=e.body.ind_off.find((t,e)=>t===i.model.id)),s&&(i.lightOff(),t.publisher.data={properties:t.generateMessageProperties(),body:{action:"IND_OFF_RES",id:i.model.id,result:!0}},r("sent IND_OFF_RES",t.publisher.data))});break;case"GW_DEP_REQ":{if("false"==t.state.boot_flag)return;let i=!1;Math.random()>.5&&(e.body.ind_url,t.version=e.body.version,i=!0),t.publisher.data={properties:t.generateMessageProperties(),body:{action:"GW_DEP_RES",id:t.model.id,result:i,version:t.version,time:Date.now()}},r("sent GW_DEP_RES",t.publisher.data),t.off(),t.boot()}break;case"IND_DEP_REQ":if("false"==t.state.boot_flag)return;t.indicators.forEach(i=>{if(0==i.state.boot_flag)return;let s;Math.random()>.5?(i.version=e.body.version,s=!0):s=!1,t.publisher.data={properties:t.generateMessageProperties(),body:{action:"IND_DEP_RES",id:i.model.id,result:s,version:i.version,time:Date.now()}},r("sent IND_DEP_RES",t.publisher.data)}),t.off(),t.boot();break;case"TIMESYNC_RES":if("false"==t.state.boot_flag)return;t.setTimer(1e3*parseInt(e.body.svr_time)),t.time||t.timerOn();break;case"MW_MOD_IP_REQ":t.publisher.data={properties:t.generateMessageProperties(),body:{action:"MW_MOD_IP_RES",id:t.model.id,result:Math.random()>.5}};break;case"LED_ON_REQ":{let i=t.indicators.findIndex((t,i)=>t.model.id===e.body.id);if(-1!=i){Object.keys(t.indicators[i].conf).forEach(s=>{e.body.hasOwnProperty(s)&&(t.indicators[i].conf[s]=e.body[s])});let s="#f00";t.indicators[i].getConf.led_bar_brtns>10&&(t.indicators[i].conf.led_bar_brtns=10),s+=Math.round(15*t.indicators[i].getConf.led_bar_brtns/10).toString(16),t.indicators[i].ledRect.strokeStyle=s,t.indicators[i].ledLit=!0}else r("Could not find indicator",e.body.id)}break;case"LED_OFF_REQ":{let i=t.indicators.findIndex((t,i)=>t.model.id===e.body.id);-1!=i?(t.indicators[i].ledRect.strokeStyle="#0000",t.indicators[i].ledLit=!1):r("Could not find indicator",e.body.id)}break;default:r("unknown message",e)}else r("got a message when power is off",e)}(this,t.data)}onmousedown(t,e){var{left:i,top:s,width:n,height:o}=this.bounds,{x:a,y:r}=this.transcoordC2S(t.offsetX,t.offsetY),h=this.buttonContains(a-i-N,r-s-N);h&&h.handler(this)}onmousemove(t,e){var{left:i,top:s,width:n,height:o}=this.bounds,{x:a,y:r}=this.transcoordC2S(t.offsetX,t.offsetY),h=this._focusedButton;this._focusedButton=this.buttonContains(a-i-N,r-s-N),this._focusedButton!==h&&this.invalidate()}get hasTextProperty(){return!1}get controls(){}get nature(){return _}}s.Component.register("gateway",B);const k={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",label:"value",name:"value",placeholder:"12:34:56"},{type:"string",label:"pattern",name:"pattern",placeholder:"##:##:##"},{type:"number",label:"digit height",name:"digitHeight",placeholder:"20"},{type:"number",label:"digit width",name:"digitWidth",placeholder:"10"},{type:"number",label:"digit distance",name:"digitDistance",placeholder:"2.5"},{type:"number",label:"display angle",name:"displayAngle",placeholder:"12"},{type:"number",label:"segment width",name:"segmentWidth",placeholder:"2.5"},{type:"number",label:"segment distance",name:"segmentDistance",placeholder:"0.2"},{type:"select",label:"segment count",name:"segmentCount",property:{options:[{display:7,value:7},{display:14,value:14},{display:16,value:16}]}},{type:"select",label:"corner type",name:"cornerType",property:{options:[{display:"SymmetricCorner",value:0},{display:"SquaredCorner",value:1},{display:"RoundedCorner",value:2}]}},{type:"color",label:"color-on",name:"colorOn"},{type:"color",label:"color-off",name:"colorOff"}],"value-property":"value"};s.Component.register("seven-segment",class extends(Object(s.RectPath)(s.Shape)){_draw(t){var{top:e,left:i,height:s,width:o,pattern:a="##:##:##",value:r="12:34:56",digitHeight:h=20,digitWidth:l=10,digitDistance:d=2.5,displayAngle:g=12,segmentWidth:c=2.5,segmentDistance:m=.2,segmentCount:b=n.SevenSegment,cornerType:u=n.RoundedCorner,colorOn:f="rgb(233, 93, 15)",colorOff:p="rgb(75, 30, 5)"}=this.state,y=new n(o,s);y.pattern=a,y.displayAngle=g,y.digitHeight=h,y.digitWidth=l,y.digitDistance=d,y.segmentWidth=c,y.segmentDistance=m,y.segmentCount=b,y.cornerType=u,y.colorOn=f,y.colorOff=p,y.setValue(String(r)),t.translate(i,e),y.draw(t),t.beginPath()}get nature(){return k}});var O=i(3),Y=i.n(O);const P=[{icon:Y.a,handler:function(t){if(r("onclickBoot"),!t.data)return;var e=t.data;for(let i=0;i<e.length;i++)t.publisher.data={properties:{id:y()(),time:Date.now(),dest_id:"mps_server",source_id:e[i],is_reply:!1},body:{action:"GW_INIT_REQ",id:e[i]}},r("sent GW_INIT_REQ",t.publisher.data)}}],G=10,L={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",name:"publisher",label:"publisher"}]};class U extends(Object(s.RectPath)(s.Shape)){static get image(){return U._image||(U._image=new Image,U._image.src=Y.a),U._image}get publisher(){if(this.state.publisher)return this.root.indexMap[this.state.publisher]}_draw(t){var{left:e,top:i,width:s,height:n}=this.bounds;t.beginPath(),t.rect(e,i,s,n),this.drawFill(t),this.drawStroke(t),t.drawImage(U.image,e,i,s,n)}onmousedown(t,e){var{left:i,top:s,width:n,height:o}=this.bounds,{x:a,y:r}=this.transcoordC2S(t.offsetX,t.offsetY),h=this.buttonContains(a-i-G,r-s-G);h&&h.handler(this)}buttonContains(t,e){return P[0]}get nature(){return L}}s.Component.register("boot-button",U);var Q=i(4),Z=i.n(Q);const F=[{icon:Z.a,handler:function(t){r("onClickReply"),t.root.findAll("gateway").forEach((t,e)=>{t.indicators.forEach(t=>{t.onButton()})})}}],x={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",name:"publisher",label:"publisher"}]};class z extends(Object(s.RectPath)(s.Shape)){static get image(){return z._image||(z._image=new Image,z._image.src=Z.a),z._image}get publisher(){if(this.state.publisher)return this.root.indexMap[this.state.publisher]}_draw(t){var{left:e,top:i,width:s,height:n}=this.bounds;t.beginPath(),t.rect(e,i,s,n),this.drawFill(t),this.drawStroke(t),t.drawImage(z.image,e,i,s,n)}onmousedown(t,e){var i=this.buttonContains();i&&i.handler(this)}buttonContains(){return F[0]}get nature(){return x}}s.Component.register("reply-button",z);const j={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"select",name:"switch",label:"Switch",placeholder:"false",property:{options:[{display:"OFF",value:"false"},{display:"ON",value:"true"}]}},{type:"string",name:"target",label:"target",placeholder:""},{type:"number",name:"interval",label:"interval",placeholder:0}]};s.Component.register("auto-clicker",class extends(Object(s.RectPath)(s.Shape)){dispose(){clearInterval(this.autoClicker),delete this.autoClicker,super.dispose()}_draw(t){var{left:e,top:i,width:s,height:n}=this.bounds;t.beginPath(),t.rect(e,i,s,n),this.drawFill(t),this.drawStroke(t)}onmousedown(t,e){var i=()=>{this.autoClicker=setTimeout(()=>{o.onmousedown(t,e),i()},n)},s={true:!0,false:!1}[this.getState("switch")],n=this.getState("interval"),o=this.root.findById(this.getState("target"));this.setState("switch",!s),s=!s,this.text=s?"ON":"OFF",this.fontColor=s?"rgb(0, 173, 31)":"rgb(254, 3, 3)",r("Auto response:",s),s&&o&&n>=1e3?i():clearTimeout(this.autoClicker)}get nature(){return j}})}]);
//# sourceMappingURL=things-scene-mpi.js.map